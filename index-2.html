<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>我是誰-2</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="icon" href="./image/favicon.ico" type="image/x-icon" />
</head>


<body>
  <!--header start-->
  <header>
    <div class="blank"></div>
    <div class="logo">
      <img src="./image/豆苗改-02.jpg" alt="logo">
    </div>
    <div class="menu">
      <img src="./image/menu.png" alt="menu-bar">
    </div>
  </header>
  <!--header end-->

  <!--top-nav start-->

  <div class="nav-icon-container">
    <div class="nav-item-icon">
      <a href="./index-1.html">
        <img id="bottom-nav-profile-pic" src="./image/gray.jpg" alt="bottom-nav-index">
      </a>
    </div>
    <div class="nav-item-icon">
      <a href="./index-8.html">
        <img src="./image/file.png" alt="bottom-nav-index">
      </a>
    </div>
    <div class="nav-item-icon">
      <a href="./index-4.html">
        <img src="./image/b-group.png" alt="bottom-nav-index">
      </a>
    </div>
    <div class="nav-item-icon">
      <a href="./index-3.html">
        <img src="./image/instagram-logo.png" alt="bottom-nav-index">
      </a>
    </div>
    <div class="nav-item-icon">
      <a href="./index-14.html">
        <img src="./image/add-friend.png" alt="bottom-nav-index">
      </a>
    </div>
  </div>

  <div class="nav-title-container">
    <div class="nav-item-title">
      <a href="./index-1.html">個人</a>
    </div>
    <div class="nav-item-title">
      <a href="./index-8.html">歷程</a>
    </div>
    <div class="nav-item-title">
      <a href="./index-4.html">社團</a>
    </div>
    <div class="nav-item-title">
      <a href="./index-3.html">IG</a>
    </div>
    <div class="nav-item-title">
      <a href="./index-14.html">好友</a>
    </div>
  </div>
  <!--top-nav end-->

  <div class="functional-bar">
    <div class="function">
      <a href="./index-4.html">版規</a>
    </div>
    <div class="function">
      <a href="./index-5.html">成員</a>
    </div>
    <div class="function">
      <a href="./index-6.html">活動</a>
    </div>
    <div class="function">
      <a href="./index-2.html" style="background-color: rgb(140, 196, 85);color:white;">抽學伴</a>
    </div>
    <div class="function">
      <a href="./index-7.html">留言板</a>
    </div>
  </div>

  <div class="index-browse-container">
    <div class="index-browse-top">
      <img class="index-browse-logo" src="./image/豆苗改-08.png" alt="">
      <div class="index-browse-title">
        熱門社團
      </div>
    </div>
    <div class="index-browse-bottom">
      <img class="hito-club index-browse-img bordered-img" src="./image/test-cover.jpeg" alt="">
      <img class="hito-club index-browse-img bordered-img" src="./image/test-cover.jpeg" alt="">
      <img class="hito-club index-browse-img bordered-img" src="./image/test-cover.jpeg" alt="">
    </div>
    <div class="more-btn">
      <a href="#">更多...</a>
    </div>
  </div>

  <div class="draw-container">
    <div class="again-btn">再抽一次</div>
  </div>

  <div class="match-container">
    <div id="p1">
      <div class="match-img">
        <img src="./image/profile-picture/profile-picture-11.jpg" alt="">
      </div>
      <div class="match-name">
        王小明
      </div>
    </div>
    <div class="match-line">
      恭喜抽中
    </div>
    <div id="p2">
      <div class="match-img">
        <img id="match-img" src="./image/profile-picture/profile-picture-11.jpg" alt="">
      </div>
      <div class="match-name">
        陳小美
      </div>
    </div>
  </div>

  <div class="select-bar-container">
    <div class="select-bar">
      <div class="high-school">
        <span class="highschool-dropdown-content" id="highschool-name" onclick="showHighSchool()">松山高中</span>
        <span id="highschool-dropdown-btn">
          &#9660;
        </span>
        <div class="high-school-dropdown-content">
          <p class="club-dropdown-item dropdown-choosed-highschool-item" onclick="showResultOfHighSchool(0)">北一女中</p>
          <p class="club-dropdown-item dropdown-choosed-highschool-item" onclick="showResultOfHighSchool(1)">政大附中</p>
        </div>
      </div>

      <div class="club">
        <span id="club-title" onclick="showClub()">吉他社</span>
        <span id="club-dropdown-btn" onclick="showClub()">
          &#9660;
        </span>
        <div class="club-dropdown-content">
          <p class="dropdown-choosed-club-item" onclick="showResultOfClub(0)"> 烹飪社</p>
          <p class="dropdown-choosed-club-item" onclick="showResultOfClub(1)"> 園藝社</p>
        </div>
      </div>
      <div class="gender-amount">5女</div>
      <div class="gender-amount">4男</div>
    </div>
  </div>

  <div class="card-container">
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card0" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card1" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card2" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card3" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card4" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card5" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card6" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card7" onclick=changeImage(this) alt="">
    </div>
    <div class="card-item">
      <img src="./image/nobg-09.png" id="card8" onclick=changeImage(this) alt="">
    </div>
  </div>

  <!--bottom-nav start-->
  <div class="space"></div>
  <nav id="bottom-nav">
    <div class="nav-item">
      <a href="#">
        <img class="nav-item-icon" id="bottom-nav-profile-pic" src="./image/gray.jpg" alt="bottom-nav-index">
      </a>
      <p class="nav-item-title">
        <a href="#">個人</a>
      </p>
    </div>
    <div class="nav-item">
      <a href="#">
        <img class="nav-item-icon" src="./image/home.png" alt="bottom-nav-index">
      </a>
      <p class="nav-item-title">
        <a href="#">首頁</a>
      </p>
    </div>
    <div class="nav-item">
      <a href="#">
        <img class="nav-item-icon" src="./image/豆苗改-08.png" alt="bottom-nav-index">
      </a>
      <p class="nav-item-title">
        <a href="#">動態</a>
      </p>
    </div>
    <div class="nav-item">
      <a href="#">
        <img class="nav-item-icon" src="./image/video-player.png" alt="bottom-nav-index">
      </a>
      <p class="nav-item-title">
        <a href="#">影片</a>
      </p>
    </div>
    <div class="nav-item">
      <a href="#">
        <img class="nav-item-icon" src="./image/love-message.png" alt="bottom-nav-index">
      </a>
      <p class="nav-item-title">
        <a href="#">論壇</a>
      </p>
    </div>
  </nav>
  <!--bottom-nav end-->
</body>

<script>
  var cardItem = document.getElementsByClassName("card-item");
  var cards = [-1, -1, -1, -1, -1, -1, -1, -1, -1];

  function changeImage(img) {
    if (img.src.match('./image/nobg-09.png')) {
      var imgNum = (Math.floor((Math.random() * 13) + 1));
      img.src = "image/profile-picture/profile-picture-" + imgNum + ".jpg";
      document.getElementById('match-img').src = img.src;
      img.style = "transition: all 200ms ease-out;";
      cards[this] = 0;
      oneTimeClick();
    } else {
      img.src = "./image/nobg-09.png";
    }
  }

  function showResultOfHighSchool(i) {
    var showChosenItem = document.getElementsByClassName('high-school-dropdown-content')[0];
    $("#highschool-name").text(showChosenItem.getElementsByClassName("dropdown-choosed-highschool-item")[i].innerHTML);
    $(".high-school-dropdown-content").hide();
  }

  function showHighSchool() {
    $(".high-school-dropdown-content").show();
  }

  function showClub() {
    $(".club-dropdown-content").show();
  }

  function showResultOfClub(i) {
    var showChosenItem = document.getElementsByClassName('club-dropdown-content')[0];
    $("#club-title").text(showChosenItem.getElementsByClassName("dropdown-choosed-club-item")[i].innerHTML);
    $(".club-dropdown-content").hide();
  }


  //用一個陣列儲存一開始的狀態
  //用一個變數儲存現在被點擊的次數(還沒點擊:-1,點過了:1)
  //用這個變數來判斷使用者不能再點擊第二次
  //在每一次點擊的時候檢查
  //如果分開寫的話，會因為非同步的關係oneTimeClick先執行了～所以cards[i]都還是0 
  function oneTimeClick() {
    $("div[class^='card-item']").remove
  }
</script>

</html>